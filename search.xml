<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[杂谈]]></title>
    <url>%2F2018%2F12%2F19%2F%E6%9D%82%E8%B0%88%2F</url>
    <content type="text"><![CDATA[前段部分来公司有了一些时间了，前前后后折腾了超过半年，从1.6到现在的2.0，前端展示，后台管理，交易所，中途经过了3次迭代，其中2.0为最大一次更新，而现在整个项目现在看来，已经算是基本凉了，一直没有盈利，从启动项目也没打算融资，前段时间的人员也有离开的，公司为了存活下去，方向也开始专攻小游戏，外包，转包业务，以维持日常开销。 关于项目当初来是对着项目而来，自己也很挺喜欢这个项目，简单介绍一下项目，是做泛艺术领域比赛+区块链，匿名评选，问答社区，比赛结束之后前10名的选手可以获得福利币的奖励，福利币，是一种虚拟的货币，每周分发10万枚，和比特币的发放机制类似，具体可以参考比特币的白皮书；参赛选手，举办比赛，投资人一起瓜分这10万枚，具体瓜分细规则先不说。 拉新策略邀请一些画手，艺术从业者，这些人统称为叫特别邀请师，满足这些人的条件是，拥有100个活人铁粉，特别邀请师来平台举办各自领域的比赛，从微博，微信，同学介绍，小型画室/工作室；另外的新用户是从花瓣，站酷里爬的数据，爬下来之后一个个加，再组建群；举办这些比赛，每个人给予1000元奖励，首富30%，即300元作为签约费，剩下700元需要满足的条件，进来成功举办比赛之后，并且粉丝都需要参加至少一场比赛。最终签约了80名特别邀请师，来平台玩的，只有56名。从花瓣，站酷等现有的社交平台里拉来的数据50000条，组成9个活跃社群，每个群差不多450人。 公众号的运营策略这个项目有两个公众号，一个主要方向是区块链，报道当下区块链的一些新闻咨询，一个主要方向是泛艺术心得，包括采访画师，水彩，插画的小小心得，画师/设计的心路历程等一些文章。社群每周举办一次投票小活动，群主收集作品，筛选出10-15副作品，上传至小程序，进行评选，评选之后，第一名的用户可以获得2个福利币。 糗事在2.0上线之前，在现有的群进行宣讲，每天在不同的微信群进行宣讲，承诺福利币在交易所兑换的价格为7元，这个价实在是太高了，开会建议不能这么高，还是以1元比较靠谱，后来因为交易所在撮合方面有严重的延迟(交易所项目是单独外包给外面的公司，技术非常渣，不断测试不断出错，无法按时上线，后来临时出了一版OTC法币交易)而暂停上线，因为app store无法上架带有虚拟货币交易，所以还专门出了一个企业版(带有OTC交易)，大量用户分不清什么事企业版，什么是APP store版，一直不断有人来问，每次都要解释一遍。上线之后，官方不断压制价格，在赞助大赛领导又以大量积分赞助，所有的权重全部在他这，有用户都快直接要过来理论了，现在这里变成一烂摊子，用户流失特别多。 现有的产品规划具体见图 反思项目到现在任何一个项目，不管成功也好，失败也好，都得有个自我反思的过程。福利币发放机制，是领导强制的要求，当时比特币行情也特别好，之前也提过一些意见，区块链终究是还处在探索阶段，落地应用也是在探索，需要大量的时间和资金来支持，更何况之前区块链负面新闻太多了，很多人一致认为是诈骗，按照当时公司的财务情况来看，是一项非常冒险的策略。整个项目还没有实现商业闭环，一直都是公司在输出，用户也是一直得到大量的福利币，这些福利币无法得消耗，兑现的价格又是如此的低，和之前的承诺有冲突，也有不甘心，没什么ATC，福利币该多好。运营的投入力度还是太少了，舍不得花重金来聘请厉害的运营出点子，后面的业务需要大量的运营方案来支撑。由于现在业务调整，新版本的开发将搁置延期。 结束语最后有哪位大佬看到我的，可不可以收留我，勤奋好学，学习能力强，又上进。]]></content>
      <categories>
        <category>产品</category>
      </categories>
      <tags>
        <tag>运营</tag>
        <tag>产品</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo + Next主题 + GitHub搭建博客]]></title>
    <url>%2F2018%2F12%2F12%2FHexo%20%2B%20GitHub%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[背景原来自己开发了一个博客，当时也是为了学习技术，了解实现原理，采用node.js+mysql+js，效果真是不堪入目，也有后台管理，功能基本已经实现，但实在不堪入目，写着写着就没什么动力去搞了，无意中了解发现Hexo框架，比worldpress还优雅，是时候该折腾折腾，嗯，说好直接开工，前前后后折腾了差不多一周，白天上班晚上倒腾；虽然教程步骤，网上都有，Hexo，next官方文档写的也是挺详细的，写一个出来加深印象。 需求点Hexo框架实现功能 导航栏：首页，分类，标签，归档，关于我，搜索 标题 分页 markdown写作 第三方实现功能 评论 目录列表 留言数统计 访客人数 字数统计 阅读时长 发表时间 阅读量统计 准备工作之前就已经安装过了node.js，Git和npm，一般我用nvm来管理不同的node.js和npm版本，用终端检查一下他们是否在本机成功安装：12git --versiongit version 2.20.0 12node -vv8.11.3 为了稳妥起见，我用的版本当前比较稳定的版本，有时候最新版可能不一定是最好的。 安装Hexo装好node.js和git之后，可以通过npm来安装。1npm i -g hexo-cli 不出什么问题几分钟之后就装好了 建立网站文件夹在本地的电脑新建立文件夹，算是网站的全部内容，在终端输入hexo的相关命令来初始化该文件夹123hexo init ewan_zheng # ewan_zheng是自己的文件名cd ewan_zhengnpm i 初始化完成之后，基本的hexo框架算是搞定了。 网站结构123456├── config.yml├── package.json├── scaffolds├── source├ ├── _posts└── themes config.yml配置文件，以yml为主，博客名称、关键词、作者、系统语言、主题、常用第三方插件等都在里面 package.json包文件，从官方库里安装包插件内容和对应版本会列在里面，基本可以不修改此文件。 scaffolds脚手架，三种形式的模板，添加一些自定义标签或者类的内容。 source放置博客内容地方，默认只有_post(文章)，后续根据自己需求可以添加自定义文件夹，如Tags，categories，about等 themes主题，Hexo会根据这个文件夹生成静态页面。初始状态下只有landscape一个文件夹，即默认主题，后续添加next主题，或者其他自己喜欢主题。 Hexo常用命令新建初始文件1Hexo init 新建文章页面，还有一种是添加草稿，个人认为草稿的意义不大，在本地直接post就是草稿了，编辑完了直接部署上传1hexo new post "title" 生成静态页面12hexo generatehexo g # 简写 部署12hexo deployhexo d # 简写 启动服务器，默认地址为http://localhost:40001234hexo serverhexo s # 简写 hexo s -p 5000 # 更换一表5000的端口hexo s --w # 启动服务器并且监控状态，有修改就会变化 以上就是用的最多的命令，其他的基本用不着，搭建完成之后，在localhost:4000就能看到内容 设置语言在config.yml找到language:属性，默认不写是英文，改成language: zh-Hans front matter这个可以理解为每篇文章的默认配置12345678---title: Hexo + Next主题 + GitHub搭建博客abbrlink: 16107tags: - Hexo框架- githubcategories: 技术--- 注意，刚开始是没有tags, categories的，首先需要建立相关的文件夹12hexo new page categorieshexo new page tags 能在source文件夹中新建立文件夹categories, tags并且生成的index.md，并在front matter加上type: &quot;categories&quot;, type: &quot;tags&quot;注，标签有两种写法，一种是写成-短划线形式12345678---title: Hexo + Next主题 + GitHub搭建博客abbrlink: 16107tags: - Hexo框架- githubcategories: 技术--- 一种是写成数组形式123456---title: Hexo + Next主题 + GitHub搭建博客abbrlink: 16107tags: [Hexo框架, github]categories: 技术--- 123456---title: 分类date: 2018-12-14 22:08:47type: 'categories'comments: false--- 这里如果添加了comments: false，在该页面不能评论，至于评论功能稍后再说。给模板添加categories，tages在scarffolds文件夹里的post.md文件，在font matter加上categories，tages，这样新创立的文件都会带有这个属性，只要在post文件写分类就会自动带有分类。123456---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;tags:categories:--- 部署一篇文章写完之后，部署域名到互联网，这里部署到GitHub仓库，当然也可以部署到自己创建的域名。下载git部署依赖包，终端进入站点目录文件下输入1npm i hexo-deployer-git --save 注册GitHub账号1.首先注册一个账号，并且建立一个仓库。2.这里要特别注意，Repository name的名字一定要和Username，即owner名字一样，否则，后期怎么部署都会失败。3.建立好仓库之后，打开刚新建的hexo文件config.yml，搜索找到部署选项，布置一下路径1234deploy: type: git repo: git@github.com:EwanPM/EwanPM.github.io.git branch: master 这里注意两点： 属性与描述之间要有空格，即冒号后面加空格。 git要关联自己的GitHub库，要配置SSH参数，不然这个功能无法生效。 Git关联远程仓库这里以mac系统操作1.创建SSH，在终端输入1cd ~/.ssh 如果出现-bash: cd: ~/.ssh: No such file or directory说明之前没有用过，继续输入命令1ssh-keygen -t rsa -C ewanzheng2012@gmail.com # 这里填入自己注册github的邮箱名字 中途会出现，Overwrite(Y/N)，输入y，表示之前有生成过ssh，新生成的需要覆盖吗，最后出现下面的状况就表示生成成功了确认完毕之后，生成一对秘钥放在文件夹: /users/ewan/.ssh/，有两个文件一个私钥(id_rsa)、一个公钥(id_rsa.pub)，私钥保存在本机电脑上，公钥放在服务器上。服务器的公钥和本地私钥匹配才能访问服务器的代码库，一定要妥善保管私钥，一旦私钥外泄，服务员上的代码也被泄露。(有点区块链的意思) 在Github上关联自己公钥打开finder，shift+command+G，输入/Users/ewan/.ssh/id_rsa进入ssh目录，用记事本打开id_rsa.pub，复制里面的代码登陆Github，找到setting，在SSH and GPG keys导航里，点击New SSH key，粘贴刚才的代码检测是否关联成功，终端输入1ssh -T git@github.com 出现上面结果表明已关联成功最后使用hexo g &amp;&amp; hexo -d就能能将内容推送到github上了，在github上也能看见自己内容，现在算是完成基本功能了。 nexT主题hexo上有很多主题，感谢各路大神开源自己代码，看来看去最终还是选择nexT，优雅，简约，功能挺全的。 安装可以去nexT官网文档去下载，我是直接下的source，解压之后修改文件名为next放在themes目录下。 设置主题打开hexo目录的config.yml找到theme修改主题为next1theme: next 配置next主题进入刚才的next文件夹，找到config.yml，后面有关配置next主题基本都在这个文件修改官方文档有介绍很多功能，默认状态下config.yml很多功能基本注释掉的，根据自己需求，取消注释并补全信息即可。 主题风格打开配置文件config.yml，搜索关键字scheme，将需启动的scheme前面注释取消即可，这里有4种主题，每次只能打开一种，个人比较喜欢mist，muse的简约版本，整洁优雅，其它的效果可以尝试。 评论自己尝试了评论Disqus,changyan, 多说, 来必力感觉都不好使，多说，畅言已经停止更新，这里用Valine，再次验证了那句话，高手在民间，画面简洁，简洁到没有后台，删除和管理评论直接操作数据库。到LeanCloud创建一个开发版(目前免费)。注册好之后进入，新应用名称-&gt;开发版-&gt;创建即可点击储存-&gt;创建Class，弹出创建Class对话框，Class名称要写Comment，ACL权限更改为无限制。设置-&gt;安全中心-&gt;服务开关，打开数据存储，其它的都可以关掉，我试了短信服务和推送服务暂时都失效的。设置-&gt;安全中心-&gt;安全域名添加，每行一个域名，多个域名换行，要注意格式。设置-&gt;应用key最重要的一步了，复制这里的app ID和App Key在next主题配置文件里，搜索valine，把刚才的appid和appkey复制到对应的属性，enable: true运行hexo s看看效果最后是关于邮件提醒，官方文档有介绍，具体操作如下 1234567你在&#123;&#123;appname&#125;&#125; 的评论收到了新的回复&lt;p&gt;Hi, &#123;&#123;username&#125;&#125;&lt;/p&gt;&lt;p&gt;你在 &#123;&#123;appname&#125;&#125; 的评论收到了新的回复，请点击查看：&lt;/p&gt;&lt;p&gt;&lt;a href="https://ewanpm.github.io/" style="display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;"&gt;马上查看&lt;/a&gt;&lt;/p&gt; 回复功能算是完毕了，留言数统计也会显示在副标题的描述中。 文章阅读量统计数据刚刚在LeanCloud建立了新帐之后，创建Class，弹出对话框，Class名称要写Counter，ACL权限更改为无限制，完成之后，左边会多出Counter栏目，在主题配置文件，config.yml搜索leancloud_visitors，填入刚才的AppID及AppKey，enable: true，hexo s重新生成刚部署Hexo，就能看到文章阅读量统计了 记录文章访问量的唯一标识符是文章的发布日期以及文章的标题，因此请确保这两个数值组合的唯一性，如果你更改了这两个数值，会造成文章阅读数值的清零重计。 –Doublemine上面的这些文章还介绍了一些刷访问量的目的，这里就不多介绍了。 添加搜索功能这里安装algolia，去官网注册，我选择github登录，有14天使用所有功能，若未续费则自动降级为免费用户，每个月只能有100,000次请求API。安装npm install hexo-algolia包1npm install hexo-algolia@1.2.4 --save # 这里安装的版本为，1.2.4 目前最新的版本为1.3.0，试用了一下，搜索出来的结果无法跳转至正确的路径，改url也没有用。获取API keys登录后新建一个index name，后面会用得到之后选择API keys-&gt;YOUR API KEYS，记录复制Application ID, Search-Only API Key, Admin API Key前往站点配置文件，打开config.yml添加以下代码12345# Algolia Search API Keyalgolia: applicationID: 'Application ID' apiKey: 'Search-Only API Key' indexName: '输入刚才创建index name' 修改Algolia搜索ACL(访问控制列表)和之前在leancloud一样，创建新的class需要把权根改为无限制，打开ALL API KEYS添加上面的选项，然后保存。操作完成之后在终端输入以下命令123export HEXO_ALGOLIA_INDEXING_KEY=Search-Only API key #(windows为set) (Powershell 用 $env:) export HEXO_ALGOLIA_INDEXING_KEY #查看是否设置成功如果没有值就设置失败 #(Mac和git bash 为 export) (Powershell 用 $env:) hexo algolia 前往主题配置文件，搜索找到Algolia Search，修改以下代码123456789# Algolia Searchalgolia_search: enable: true hits: per_page: 10 labels: input_placeholder: 请搜索关键字 hits_empty: "没有找到结果: $&#123;query&#125;" hits_stats: "找到$&#123;hits&#125;条结果(用时$&#123;time&#125;ms)" 搜索找到URL，把URL地址更改为123456# URL## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'url: https://ewanpm.github.io/ # http://yoursite.comroot: /permalink: :year/:month/:day/:title/permalink_defaults: hexo s刷新，发现已经可以使用了。 网站页脚添加总访问量找到路径，themes/next/layout/_partial/footer.swig中添加busuanzi.js，代码如下1&lt;script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; 注意：站点总访问量是用不蒜子来统计的，近期的官方文档的域名过期了，js的引用可能有问题，接下来找到文件路径/theme/next/layout/_third-party/analytics/busuanzi-counter.swig，找到域名并替换为1&lt;script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; 安装标签算法a：pv的方式，单个用户连续点击n篇文章，记录n次访问量。123&lt;span id="busuanzi_container_site_pv"&gt; 本站总访问量&lt;span id="busuanzi_value_site_pv"&gt;&lt;/span&gt;次&lt;/span&gt; 算法b：uv的方式，单个用户连续点击n篇文章，只记录1次访客数。123&lt;span id="busuanzi_container_site_uv"&gt; 本站访客数&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;人次&lt;/span&gt; 这里采用第二种算法b。在主题配置文件，config.yml添加以下内容12# visitors count counter: true 在themes/next/layout/_partial/footer.swig中添加以下代码12345&#123;% if theme.footer.counter %&#125; &lt;script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; &lt;span class="post-meta-divider"&gt;|&lt;/span&gt; &lt;span id="busuanzi_container_site_uv"&gt;本站访客数&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;人&lt;/span&gt;&#123;% endif %&#125; 大功造成。还有一点，在本地运行会发现访问量数字巨大，这是因为 这是由于不蒜子用户使用一个存储空间，所以使用localhost:4000进行本地预览的时候会导致数字异常，这是正常现象，只需要将博客部署至云端即可恢复正常。 至此，基本实现了想要的功能，终于可以开心地写写东西了，后面陆续把原来文章迁移到这里，另外还有一些优化和其它功能，等闲了一段时间后再来试试。 参考https://valine.js.org/visitor.htmlhttps://ioliu.cn/2017/add-valine-comments-to-your-blog/https://hexo.io/docs/http://theme-next.iissnan.com/getting-started.htmlhttps://www.jianshu.com/p/21c94eb7bcd1https://www.jianshu.com/p/c311d31265e0]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Hexo框架</tag>
        <tag>github</tag>
        <tag>博客</tag>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OTC法币交易]]></title>
    <url>%2F2018%2F11%2F04%2FOTC%E6%B3%95%E5%B8%81%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[写在前面的话10月份基本上主要在梳理OTC的需求，前期计划需要3天时间弄出来，结果修修整整弄了一个月，流程虽然谈不上复杂，但是异常的情况比较多，有许多情况都是在开发的过程中，写测试用例遇到的，中途又调整了很多次细节，哪怕是上线的前两天，都在调整，大家都在为了把产品做好，挺感谢大家的。 关于区块链说到区块链不得不说到炒币，去年的今日，比特币市值突破8000亿美金，一年后的今天，只有1000亿美金，很多人赚了钱最后都吐回去，并且还亏了本，这还是一个新兴的市场，中本聪的这套比特币通货紧缩机制，去中心化，安全性，都得到了印证，很多公司都打着区块链的晃子进行集资，让萌新不断入场，ICO搞一波割一把韭菜，人人都可以发币，人人都可以开交易所，导致垃圾币和垃圾交易所大量上市，很多新币种都长时间没有交易量，钱投进去了，不一能出来，最后人去楼空，明年行业会洗牌，大量的交易所倒闭，大量的空气币归零，或许是件好事，留下的必定是优质资产，闲扯了这么多还是说一下正经事，需求参考了现在火币，okex的OTC交易流程，简单说，就是点对点交易，即，A用人民币(法币)向B购买虚拟货币。 OTC需求结构OTC业务流程OTC法币交易出发短信资产状态变化发布广告收款方式OTC原本来源于证券市场，最早的叫法源自美国 OTC即柜台交易市场或场外交易市场，是指在证券交易所以外的市场所进行的股权交易 OTC流程 整个流程中，卖家和买家的交互比较多，中间打款的时候还涉及到第三方app登录，支付宝，微信转账，银行卡转账等，产生的纠纷也很多，在后面的原型的稿的整理的时候出现了很多坑，仍然无法提供一个非常好的解决方案。下面具体列举出一个业务场景，给出的一个解决办法： 买家已点击我已打款，卖家查收账户的时候没有收到，电话沟通没结果，此时卖家申诉买家，买家订单状态变成申诉，若买家主动联系客服调解，客服后台修改买家订单状态，买家再次打款给卖家，卖家验证成功后放行货币，订单完成。 若买家不主动联系客服，客服后续介入，通知买家已经被申诉，马上处理订单，买家再次打款给卖家，卖家验收后放行货币，订单完成。若无论怎样都无法联系买家，客服会强制封号，该笔订单取消。那么问题来了，怎么保证卖家有没有欺骗对方或者客服，或者说，买家已经打过款给卖家，卖家不承认，此时买家用订单转账记录的截图给客服，经过确认，通知卖家放行，这里还有一个新坑，有可能买家的转账记录是经过PS的，本质上买家就没有打钱，现在扯皮扯不清楚了，出现这种情况，客服把订单取消，损失由买家或者卖家承担，这两个账号都会列入重点关注对象。火币，okex是站在商家的利益来考虑的，相信商家，想要成为商家，要求是很高的，需要有至少RMB50000保证金，不知道现在有没有改。 下面是原型需求稿，由于时间比仓促，没来得及排版，后面开发和测试在细节和异常情况做了补充。 后续会持续完善文档，争取做得更好，目前倒是没什么机会更新完善了，因为已经凉了。]]></content>
      <categories>
        <category>产品</category>
      </categories>
      <tags>
        <tag>原型设计</tag>
        <tag>OTC</tag>
        <tag>需求</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[抽奖研究分析]]></title>
    <url>%2F2018%2F10%2F03%2F%E6%8A%BD%E5%A5%96%E7%A0%94%E7%A9%B6%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[前言只要是营销的场景，肯定逃不脱抽奖，研究好抽奖可以说是必修课之一，算法也是多种多样，这次以奖品的权重来抽奖。 奖品设置奖品实体必须含有两个字段，一个用于区分的奖品名称/ID；一个奖品权重请看表格，进行如下设置抽奖的逻辑可以用下面这张图表示 算法123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107import java.util.ArrayList;import java.util.List;public class PrizeTest &#123; /** * 根据Math.random()产生一个double型的随机数，判断每个奖品出现的概率 * @param prizes * @return random：奖品列表prizes中的序列（prizes中的第random个就是抽中的奖品） */ public static int getPrizeIndex(List&lt;Prize&gt; prizes) &#123; int random = -1; while(random &lt; 0 ) &#123; try &#123; //计算总权重 double sumWeight = 0; for (Prize p : prizes) &#123; sumWeight += p.getPrize_weight(); &#125; //产生随机数 double randomNumber; randomNumber = Math.random(); //根据随机数在所有奖品分布的区域并确定哪个名称里 double d1 = 0; double d2 = 0; for (int i = 0; i &lt; prizes.size(); i++) &#123; d2 += Double.parseDouble(String.valueOf(prizes.get(i).getPrize_weight())) / sumWeight; if (i == 0) &#123; d1 = 0; &#125; else &#123; d1 += Double.parseDouble(String.valueOf(prizes.get(i - 1).getPrize_weight())) / sumWeight; &#125; if (d1 &lt;= randomNumber &amp;&amp; randomNumber &lt; d2) &#123; random = i; break; &#125; &#125; &#125; catch (Exception e) &#123; System.out.println("出错原因：" + e.getMessage()); &#125; &#125; return random; &#125; public static void main(String[] agrs) &#123; int i = 0; List&lt;Prize&gt; prizes = new ArrayList&lt;Prize&gt;(); Prize p1 = new Prize(); p1.setPrize_name("名称1"); p1.setPrize_weight(1);//权重设置成1 prizes.add(p1); Prize p2 = new Prize(); p2.setPrize_name("名称2"); p2.setPrize_weight(2);//权重设置成2 prizes.add(p2); Prize p3 = new Prize(); p3.setPrize_name("名称3"); p3.setPrize_weight(3);//权重设置成3 prizes.add(p3); Prize p4 = new Prize(); p4.setPrize_name("名称4"); p4.setPrize_weight(4);//权重设置成4 prizes.add(p4); int[] result=new int[prizes.size()]; System.out.println("开始.。。"); for (i = 0; i &lt; 100; i++)// 打印100个测试概率的准确性 &#123; System.out.println("第"+i+"次使用："+prizes.get(getPrizeIndex(prizes)).getPrize_name()); result[getPrizeIndex(prizes)]++; System.out.println("--------------------------------"); &#125; System.out.println("结束。。。"); System.out.println("每家供应商的使用数量为："); System.out.println("名称1："+result[0]); System.out.println("名称2："+result[1]); System.out.println("名称3："+result[2]); System.out.println("名称4："+result[3]); &#125; static class Prize&#123; private String prize_name;//名称 private int prize_weight;//权重 public String getPrize_name() &#123; return prize_name; &#125; public void setPrize_name(String prize_name) &#123; this.prize_name = prize_name; &#125; public int getPrize_weight() &#123; return prize_weight; &#125; public void setPrize_weight(int prize_weight) &#123; this.prize_weight = prize_weight; &#125; &#125;&#125; 打开终端，对PrizeTest进行编译，然后运行12javac PrizeTest.javajava PrizeTest 得出的结果结束。。。每个奖品名称的使用数量为：名称1：9名称2：26名称3：25名称4：40 设置的奖品数量只有100，计算的结果基本符合预期，数字越大，越准确。 其他情况如果预想中奖率是100%，那么10个奖品只能抽奖10次，所以还要根据实际情况设置每种奖品数量和权重。如果需要设置中奖率不为100%，可以添加一个“伪奖品”进行站位，为其设置权重，那么抽到这个“伪奖品”的概率就是不中奖的概率。这个是在奖品充足的时候情况下，如果在抽奖活动中某个奖品抽完了，做个判断，即此奖品剩余数量为0，则重新抽取一次，一直到抽到其他还有剩余的奖项为止。 参考的资料是要联动数据库的，这里做了一些简单的处理，理解核心业务逻辑。 参考资料：https://blog.csdn.net/a46788304/article/details/65437754]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>抽奖</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[微软开源Sketch2Code,草图变代码]]></title>
    <url>%2F2018%2F09%2F07%2F%E5%BE%AE%E8%BD%AF%E5%BC%80%E6%BA%90Sketch2Code-%E8%8D%89%E5%9B%BE%E5%8F%98%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[今天在看微信公众号的时候，发现一个特牛逼的东西，Sketch2Code 用户界面设计过程涉及大量创造性的迭代工作。这个过程通常从在白板或白纸上画草图开始，设计师和工程师分享他们的想法，尽力表达出潜在的客户场景或工作流程。当他们在某个设计上达成一致之后，通过照片的形式将草图拍下来，然后手动将草图翻译成 HTML 代码。翻译过程需要耗费很多时间和精力，通常会减慢设计过程。 Sketch2Code 是一个基于 Web 的解决方案，使用 AI 将手绘的用户界面草图转换为可用的 HTML 代码。Sketch2Code 由微软和 Kabel、Spike Techniques 合作开发。读者可以在 GitHub 上找到与 Sketch2Code 相关的代码、解决方案开发过程和其他详细信息。 项目地址原码：https://github.com/Microsoft/ailab/tree/master/Sketch2Code 在微软官网做一些尝试:https://sketch2code.azurewebsites.net/ sketch2Code架构，工作流程 自己尝试了一下，这货简直吊炸天，不得不佩服，减少了页面布局这样无脑行为，更加专注逻辑，现在的能力还无法读懂源码，有点遗憾目前不能支持中文转译，源文件放中文就会出乱子。]]></content>
      <categories>
        <category>资讯</category>
      </categories>
      <tags>
        <tag>microsoft</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-cli部署及nginx安装配置]]></title>
    <url>%2F2018%2F09%2F03%2Fvue-cli%E9%83%A8%E7%BD%B2%E5%8F%8Anginx%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[开始之前以前的博客用的vue+node编写的，webpack做好打包文件之后，在项目文件夹下生成dist(webpack 3.0以上)文件，这个文件夹就是要部署的文件目录，另外，server文件需要单独上传，与dist同目录。 安装Nginxnginx是一款轻量级高性能HTTP和反向代理服务，在阿里注册了一个域名之后，可以无限的生成二级，三级，四级域名，对应不同项目目录。 在VPS服务器上需要下面三个依赖包: SSL功能需要openssl库，下载地址 http://www.openssl.org/ rewrite模块需要pcre库，下载地址 http://www.pcre.org/ gzip模块需要zlib库，下载地址 http://www.zlib.net/ Nginx安装包 进入任意目录下载以上压缩包(版本号改为最新即可)： 注意各个目录下的是 configure 还是 config 1234567891011[root@host zlib-1.2.11]# ./configuer[root@host zlib-1.2.11]# make[root@host zlib-1.2.11]# make install[root@host pcre-8.41]# ./configuer[root@host zlib-1.2.11]# make[root@host zlib-1.2.11]# make install[root@host openssl-fips-2.0.16]# ./config[root@host zlib-1.2.11]# make[root@host zlib-1.2.11]# make install[root@host nginx-1.13.7]# ./configure --with-pcre=../pcre-8.41/ --with-zlib=../zlib-1.2.11/ --with-openssl=../openssl-fips-2.0.16/ [root@host nginx-1.13.7]# make[root@host zlib-1.2.11]# make install 安装3个依赖包，分别进入各自解压目录 注意：安装 C++ 编译环境 （上面安装过程中如若有报错，可以看看是不是因为没有安装这个，可提前安装） 1yum install gcc-c++ 123[root@host ~]# cd /usr/local/nginx[root@host nginx]# lsclient_body_temp conf fastcgi_temp html logs nginx.conf proxy_temp sbin scgi_temp uwsgi_temp 安装好的Nginx路径在 /usr/local/nginx 配置文件路径： 1/usr/local/nginx/conf/nginx.conf 运行Nginx1234567[root@host~]# cd /usr/local/nginx/sbin[root@hostsbin]# ./nginx// 查看是否运行成功[root@hostsbin]# netstat -ntlpActive Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program nametcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN 3525/nginx: master 安装成功的话，浏览器输入 IP 地址或域名即可见到欢迎页面。 使用server命令启动nginx命令现在nginx启动、关闭比较麻烦，关闭要找到PID号，然后杀死进程，启动要进入到 /usr/local/nginx/sbin 目录下使用命令，为此我们通过设置System V脚本来使用server命令启动、关闭、重启nginx服务。 1.在 /etc/init.d 目录下创建nginx启动脚本文件 12[root@host ~]# cd /etc/init.d[root@host init.d]# vi nginx 2.将以下代码复制粘贴，保存。 注意 NGINX_BIN、CONFIGFILE、PIDFILE 三个目录要对应好，默认是对应好的。在网上找了好多相关脚本代码，都有很多问题，好像是和 CentOS 版本有关，下面脚本我在 CentOS 7 下使用正常，直接从服务器下载用sublime编辑，效率比在vps上vi编译高多了 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120#! /bin/sh # chkconfig: 2345 55 25 # Description: Startup script for nginx webserver on Debian. Place in /etc/init.d and # run 'update-rc.d -f nginx defaults', or use the appropriate command on your # distro. For CentOS/Redhat run: 'chkconfig --add nginx' ### BEGIN INIT INFO # Provides: nginx # Required-Start: $all # Required-Stop: $all # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: starts the nginx web server # Description: starts nginx using start-stop-daemon ### END INIT INFO # Author: licess # website: http://lnmp.org PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin NAME=nginx NGINX_BIN=/usr/local/nginx/sbin/$NAME CONFIGFILE=/usr/local/nginx/conf/$NAME.conf PIDFILE=/usr/local/nginx/logs/$NAME.pid case "$1" in start) echo -n "Starting $NAME... " if netstat -tnpl | grep -q nginx;then echo "$NAME (pid `pidof $NAME`) already running." exit 1 fi $NGINX_BIN -c $CONFIGFILE if [ "$?" != 0 ] ; then echo " failed" exit 1 else echo " done" fi ;; stop) echo -n "Stoping $NAME... " if ! netstat -tnpl | grep -q nginx; then echo "$NAME is not running." exit 1 fi $NGINX_BIN -s stop if [ "$?" != 0 ] ; then echo " failed. Use force-quit" exit 1 else echo " done" fi ;; status) if netstat -tnpl | grep -q nginx; then PID=`pidof nginx` echo "$NAME (pid $PID) is running..." else echo "$NAME is stopped" exit 0 fi ;; force-quit) echo -n "Terminating $NAME... " if ! netstat -tnpl | grep -q nginx; then echo "$NAME is not running." exit 1 fi kill `pidof $NAME` if [ "$?" != 0 ] ; then echo " failed" exit 1 else echo " done" fi ;; restart) $0 stop sleep 1 $0 start ;; reload) echo -n "Reload service $NAME... " if netstat -tnpl | grep -q nginx; then $NGINX_BIN -s reload echo " done" else echo "$NAME is not running, can't reload." exit 1 fi ;; configtest) echo -n "Test $NAME configure files... " $NGINX_BIN -t ;; *) echo "Usage: $0 &#123;start|stop|force-quit|restart|reload|status|configtest&#125;" exit 1 ;; esac 3.修改脚本权限 1chmod a+x /etc/init.d/nginx 4.注册成服务 1chkconfig --add nginx 5.设置开机启动 1chkconfig nginx on 这样就可以在任意目录通过service启动、关闭nginx 123[root@host ~]# service nginx start[root@host ~]# service nginx stop[root@host ~]# service nginx restart 配置nginx进入nginx下的conf，用编译器打开配置文件nginx.conf，这里下载到本地用sublime打开，方便修改，一般都是修改server里面的内容 1cd /usr/local/nginx/conf 前后端分离，Ajax api接口跨域，node代理和nginx代理 这个博客数据请求服务是用node.js写的，会出现跨域，本地测试的时候在build/config/index.js加入以下语句实现代理 node服务器，在本地测试的时候用的跨域设置 1.比如`ajax接口&quot;/getArticle&quot;，本地”localhost：8080/getArticle”，有接口跨域的问题。` 2.localhost:8080 =&gt; http://localhost:3000/api，本地开启服务器实现代理。 在nginx服务器配置文件nginx.conf： 123456789http &#123; server &#123; listen 80; #本地端口 server_name localhost; location ~*/get*|post* &#123; #nginx正则匹配(可高度自定义) proxy_pass http://127.0.0.1:3000; #反向代理 &#125; &#125;&#125; 比如ajax接口”/getArticle”，本地”localhost：80/getArticle”，有跨域的问题。 localhost:80 =&gt; http://127.0.0.1:3000 本地开启服务器实现代理 nginx反向代理更多配置查询http://www.nginx.cn/115.html 注意nginx上写发与本地测试不一样，本地代理服务失效，如果直接location 下写，还是无法通过api获取数据库数据，因为找不到地址， 因此要对location匹配正则，获得正确地址 12345location ~*/get*|post* &#123; proxy_pass http://127.0.0.1:3000;&#125;//也可以这么写location /api 向后端express, api请求数据 HTML 5 History模式vue-router 默认 hash 模式 —— 使用 URL 的 hash 来模拟一个完整的 URL，于是当 URL 改变时，页面不会重新加载。 相当于请求的是虚拟地址，需要后台设置nginx支持，即就是将所有的前端目录下的请求，统统传到前端index文件上，做路由分发。 这个vue项目使用了HTML 5 History 模式，为了把url的”#”去掉，即在路由设置history模式 因此会遇到问题，进入首页的时候可以正常访问，一旦在浏览器地址栏输入其他地址或者刷新就会出现404问题，因为vue路由编译的dist并没有真正把资源提供给nginx或者其他服务器，所以，需要转交vue-router来做前端路由 所以还需要向nginx添加 123location / &#123; try_files $uri $uri/ /index.html&#125; 这个也是来自VUE官方文档，对nginx的配置，其他类型服务器也有对应设置 VUE H5 History配置 至此整个部署已经完毕，nginx.conf设置server部分如下 12345678910111213141516171819202122server &#123; listen 80; server_name ewanzheng.top; charset utf-8; root /usr/local/nginx/html/yublog/dist;#上传后放在服务器上的项目地址 index index.html index.htm; location ^~/api &#123; proxy_pass http://127.0.0.1:3000; &#125; location / &#123; try_files $uri $uri/ /index.html; proxy_redirect off; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; #proxy_set_header X-Forwarded-Proto $scheme; #proxy_set_header X-Nginx-Proxt true; error_page 404 /index.html; &#125; error_page 500 502 503 504 /50x.html; &#125; 重启服务器，页面就可以正常访问了，API也能正常拿到 参考资料 vue+node部署上线 前后端分离，ajax api接口跨域，node代理和nginx代理]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>vue-cli</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7安装mysql 5.7.19]]></title>
    <url>%2F2018%2F09%2F02%2Fcentos7%E5%AE%89%E8%A3%85mysql-5-7-19%2F</url>
    <content type="text"><![CDATA[开始之前这个是用来记录在vps装mysql的过程，前前后后折腾了两天，比较痛苦，中途安装失败重装了几次，因为用的是国外的官网下载，因此加了代理服务，下载速度5MB/s，妥妥的 准备工作安装之前需要检查当前服务器环境是否安装了Mariadb，一般情况下，系统会默认装了Mariadb 1rpm -qa | grep mariadb 得到如下结果 1234mariadb-5.5.56-2.el7.x86_64 mariadb-devel-5.5.56-2.el7.x86_64 mariadb-libs-5.5.56-2.el7.x86_64 mariadb-server-5.5.56-2.el7.x86_64 输入一下代码，一一卸载，不同版本启动服务容易产生冲突 1rpm -e --nodeps mariadb-5.5.56-2.el7.x86_64 mariadb-devel-5.5.56-2.el7.x86_64 mariadb-libs-5.5.56-2.el7.x86_64 mariadb-server-5.5.56-2.el7.x86_64 进入root目录（也可以其他目录，下载存放的文件夹） 1cd /root 下载安装1wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.19-linux-glibc2.12-x86_64.tar.gz 解压至/usr/local/目录下 1tar -xzvf mysql-5.7.19-linux-glibc2.12-x86_64.tar.gz -C /usr/local/ cd到/usr/local目录，把解压的数据库默认名字换一换 12cd /usr/localmv mysql-5.7.19-linux-glibc2.12-x86_64 mysql 检查库文件是否有删除，若有便删除（linux系统自带的） 1[root@host mysql]# rpm -qa | grep mysql 检查mysql组和用户是否存在，如无创建 12[root@host~]# cat /etc/group | grep mysql[root@dbserver~]# cat /etc/passwd |grep mysql 建立一个mysql的组 1[root@host~]# groupadd mysql 建立mysql用户，并且把用户放到mysql组 1[root@host~]# useradd -r -g mysql mysql 如果有输入删除原来用户和组 1userdel mysql 这里的mysql是用户名字，当初建立组的时候设定 cd到mysql文件夹 创建mysql组和mysql用户 12[root@host~]#groupadd mysql[root@host~]#useradd -r -g mysql mysql 在 mysql 文件下添加 data 目录 1[root@host mysql]# mkdir data 更改mysql目录下所有的目录及文件夹所属组合用户 12345cd /usr/local/chown -R mysql mysql/chgrp -R mysql mysql/cd mysql/ls -l 初始化进入/mysql/bin文件夹，初始化数据库 1[root@host bin]# ./mysqld --initialize --user=mysql --basedir=/usr/local/mysql/--datadir=/usr/local/mysql/data/ 初始化中出现 error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory的错误，如图所示 这里需要libais包，可以解决办法 1[root@host bin]# yum install -y libaio 注意，为了预防其他事件出现，建议把环境改成英文，以后系统最好也用原版英文不会有语言兼容而报错，输入下面代码 1[root@dbserver bin]# ./mysqld --initialize --user=mysql --basedir=/usr/local/mysql/ --datadir=/usr/local/mysql/data/ --lc_messages_dir=/usr/local/mysql/share --lc_messages=en_US 在执行一次，出现下面结果，注意，记住最后数据库的初始密码 12345678910112018-08-21T14:56:56.679269Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).2018-08-21T14:56:56.974223Z 0 [Warning] InnoDB: New log files created, LSN=457902018-08-21T14:56:57.017598Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.2018-08-21T14:56:57.074003Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 730a0cba-a552-11e8-92c5-aaaa000f87e0.2018-08-21T14:56:57.075679Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.2018-08-21T14:56:57.076236Z 1 [Note] A temporary password is generated for root@localhost: **-/RrM;0k1jdo** 配置my.cnf进入 /usr/local/mysql/support-files/ 目录下，查看是否存在my-default.cnf 文件，如果存在直接 copy 到 /etc/my.cnf 文件中 1cp -a ./support-files/my-default.cnf /etc/my.cnf 如果不存在 my-default.cnf 文件, 则在 /etc/ 目录下创建 my.cnf 123cd /etc/touch my.cnfvi my.cnf 输入以下内容 123\#[mysql]\#basedir=/usr/local/mysql/\#datadir=/usr/local/mysql/data/ 启动服务12[root@host mysql]# cd /bin[root@host bin]# ./mysqld_safe --user=mysql &amp; 如图所示 将mysqld服务加入VPS开机自启动项将{mysql}/ support-files/mysql.server 拷贝为/etc/init.d/mysql并设置运行权限，这样就可以使用service mysql命令启动/停止服务， 否则就只能使用{mysql}/bin/mysqld_safe &amp;命令来启动服务 还需要把mysql.server中basedir的相关路径，改为自定义的路径，默认路径是/usr/local/mysql 12345678910[root@host bin]# cd ../support-files [root@host support-files]# cp mysql.server /etc/init.d/mysql [root@host support-files]# chmod +x /etc/init.d/mysql -- 把mysql注册为开机启动的服务 [root@host support-files]# chkconfig --add mysql-- 查看是否添加成功[root@dbserver support-files]# chkconfig --list mysqlNote: This output shows SysV services only and does not include nativesystemd services. SysV configuration data might be overridden bynative systemd configuration.If you want to list systemd services use 'systemctl list-unit-files'.To see services enabled on particular target use 'systemctl list-dependencies [target]'.mysql 0:off 1:off 2:on 3:on 4:on 5:on 6:off 启动服务 12cd /usr/local/mysql/bin[root@host bin]# service mysql start 终于搞定了，/(ㄒoㄒ)/~~哭一下 也有可能会出现报错， 出现这样情况解决办法 123456[root@host mysql]# rm /etc/my.cnfrm:remove regular file'/etc/my.cnf'? y [root@host mysql]# /etc/init.d/mysql startStartingMySQL.Loggingto'/usr/local/mysql/data/dbserver.err’.SUCCESS! [root@host mysql]# service mysql startStarting MySQL SUCCESS! 登录mysql 12[root@host bin]# ./mysql -u root -p密码是-/RrM;0k1jdo，之前随机生成的 设置密码，更改为root 1mysql&gt; set password=password("root"); 1Query OK, 0 rows affected, 1 warning(0.00sec) 如果忘记了密码还可以这样操作 123456789101112[root@host bin]# /etc/init.d/mysql stop[root@host bin]# mysqld_safe --user=mysql --skip-grant-tables --skip-networking &amp;[root@host bin]# mysql -u root mysqlmysql&gt; UPDATE user SET Password=PASSWORD('newpassword') where USER='root';// 上面语句若出错，换为update mysql.user set authentication_string=password('newpassword') where user='root'mysql&gt; FLUSH PRIVILEGES;mysql&gt; quit[root@host bin]# /etc/init.d/mysqld restart[root@host bin]# mysql -uroot -pEnter password:mysql&gt; 设置远程登录权限123456mysql&gt; grant all privileges on *.* to'root' @'%' identified by 'root';Query OK, 0 rows affected, 1 warning (0.00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; quitBye 进程关闭若以上步骤中出现其他错误，可以看看 mysql 是否关闭了，先关闭端口，然后在试试 1[root@host ~]# netstat -tpln 1[root@host ~]# kill -9 17072 如果netstat功能无法实现，需要执行下面的语句 1yum install net-tools 就能解决问题 写在后面的话 Navicat连接vps mysql Navicat在v12以下是不能连上服务器的mysql，本地的可以，解决办法，只要升级Navicat premium版本到v12.0以上就可以连接成功 参考： https://blog.csdn.net/zhou920786312/article/details/77750604]]></content>
      <categories>
        <category>基础</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>server</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7安装Node.js]]></title>
    <url>%2F2018%2F09%2F01%2Fcentos7%E5%AE%89%E8%A3%85Node-js%2F</url>
    <content type="text"><![CDATA[服务器用的搬瓦工最低配，速度和性能都不错，还有优惠券折扣6%（自己Google找优惠券），支持支付宝付款，适合学习研究，满足大部分需求，这个博客系统的后台用的node.js来做接口，抓取数据；这次安装node的版本为v8.9.1，本地测试的版本v8.11.3 之前的尝试这个方法相对最简单，效率最高。这里还是先要吐槽一下，当我还没有找到这种方法，给折腾了两三天，又是安装gcc, gcc-c++,rpm，结果装完在安装node，又是报错C++ compiler too old, need g++ 4.9.4 or clang++ 3.4.2 (CXX=g++)，还说我的gcc版本太旧（rpm装的是gcc-5.1.1），手动下载gcc 7.3.0，编译，我哩个去还，编译的1个半小时不说，结果，还是报错了-_-|||，说我的swap太小，需要增加（当时用的是centos6），无奈之下增加swap，继续折腾，gcc版本还是不够，搞不定了，系统重装centos7，后来无意发现以下这样方法，赶紧记下来。 直接安装编译好的 Nodejs下载对应的二进制文件找到一个目录，存放下载安装文件，我这里是/download 1wget -c https://nodejs.org/dist/v8.9.1/node-v8.9.1-linux-x64.tar.xz; 备注：如果没有找到wget命令，说明没有安装wget，终端输入yum -y install wget进行安装，wget依赖搞定 提取文件1tar -xvf node-v8.9.1-linux-x64.tar.xz 解压之后得到的文件夹就是已经安装好的 Nodejs 了，为了方便我们可以把它重命名一下,（在这里我把它放到了 用户根目录下面的 app 的文件夹里，你也可以换成其他路径）： 1mv node-v8.9.1-linux-x64 ~/app/nodejs 这种方式安装的 Nodejs 并不完美，Nodejs 的命令 node 和 npm 并不能在全局使用。为了解决这个问题，我们需要建立两个软链接： 12sudo ln -s ~/app/nodejs/bin/node /usr/local/bin/nodesudo ln -s ~/app/nodejs/bin/npm /usr/local/bin/npm 其中，~/app/nodejs 是我们刚才安装的 Nodejs 的路径，在建立软链接的时候要注意区别现在，node 和 npm 可以在全局使用了，同样输入命令 node -v 来检查 Nodejs 是否安装成功 12[root@host src]# node -vv8.9.1 备注：如果遇到在 npm 下全局安装的模块无法直接在 bash 中执行。例如，我们要在 npm 中安装 yarn： 123$ npm install -g yarn $ yarn bash: yarn: command not found... 为了解决这个问题，我们需要在 Linux 上手动配置环境变量。编辑 /etc/profile 文件： 1sudo vi /etc/profile 在文件的底部，添加下面两行代码： 12export NODE_HOME=~/app/nodejs/binexport PATH=$NODE_HOME:$PATH 1:wq 1234保存退出reboot一下系统，npm 全局安装的模块也可以使用了： $ yarn yarn install v1.3.2info No lockfile found.[1/4] Resolving packages…[2/4] Fetching packages…[3/4] Linking dependencies…[4/4] Building fresh packages… info Lockfile not saved, no dependencies.Done in 0.13s.123```输入`node -v`测试是否成功安装： [root@host ~]# node -vv8.9.1`至此，Nodejs 的安装已经顺利完成]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
        <tag>Linux</tag>
        <tag>server</tag>
      </tags>
  </entry>
</search>
